convert this code into java script
<!-- 1. Load jQuery FIRST -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
 
{% if section.settings.collection != blank %}
  {% assign collection = collections[section.settings.collection] %}
 
  <div class="home-product-grid" style="display: flex; gap: 20px; flex-wrap: wrap;">
    {% for product in collection.products %}
      {% assign first_variant = product.selected_or_first_available_variant %}
 
      <div class="home-single-product" style="width: 200px; border: 1px solid #eee; padding: 10px;">
        <a href="{{ product.url }}">
          <img
            src="{{ product.featured_image | img_url: 'medium' }}"
            alt="{{ product.title }}"
            style="width: 100%;"
          >
        </a>
 
        <h3>{{ product.title }}</h3>
        <p>{{ product.price | money }}</p>
 
        <!-- Custom Add to Cart Button -->
        {% if first_variant.available %}
          <button
            class="custom-add-to-cart"
            data-variant-id="{{ first_variant.id }}"
            style="cursor: pointer; padding: 10px; width: 100%;"
          >
            Add to Cart
          </button>
        {% else %}
          <button disabled style="width: 100%;">Sold Out</button>
        {% endif %}
      </div>
    {% endfor %}
  </div>
{% endif %}
 <script>
document.addEventListener('DOMContentLoaded', () => {

  document.body.addEventListener('click', async (e) => {
    const button = e.target.closest('.custom-add-to-cart');
    if (!button) return;

    e.preventDefault();

    const variantId = button.getAttribute('data-variant-id');

    button.disabled = true;
    button.textContent = 'Adding...';

    try {
      const response = await fetch('/cart/add.js', {
        method: 'POST',
        headers: { /* headers are extra informatiom like title and subject in application */
          'Content-Type': 'application/json',
          'Accept': 'application/json'
        },
        body: JSON.stringify({
          items: [
            { id: Number(variantId), quantity: 1 }
          ],
          sections: 'cart-drawer,cart-icon-bubble'/* return the html of these section after adding to cart*/
        })
      });

      if (!response.ok) throw new Error('Cart add failed');

      const data = await response.json();
      button.textContent = 'Added âœ“';

      /* Update Cart Drawer */
      if (data.sections && data.sections['cart-drawer']) {
        
        const parser = new DOMParser();/* new DOMparser means creating a new object. then store it into parser variable*/
        const htmlDoc = parser.parseFromString(
          data.sections['cart-drawer'],/* in this line convert plain data into html then in a object then into a tempory html document*/
          'text/html'
        );

        const newDrawer = htmlDoc.querySelector('.drawer__inner');
        const liveDrawer = document.querySelector('cart-drawer .drawer__inner');

        if (newDrawer && liveDrawer) {
          liveDrawer.innerHTML = newDrawer.innerHTML;
        }
      }

      /* Update Cart Icon Bubble */
      if (data.sections && data.sections['cart-icon-bubble']) {
        const parser = new DOMParser();
        const htmlDoc = parser.parseFromString(
          data.sections['cart-icon-bubble'],
          'text/html'
        );

        const newBubble = htmlDoc.querySelector('#cart-icon-bubble');
        const liveBubble = document.querySelector('#cart-icon-bubble');

        if (newBubble && liveBubble) {
          liveBubble.innerHTML = newBubble.innerHTML;
        }
      }

      /* Open Cart Drawer */
      const drawer = document.querySelector('cart-drawer');
      if (drawer) {
        drawer.classList.remove('is-empty');
        if (typeof drawer.open === 'function') drawer.open();
      }

      setTimeout(() => {
        button.disabled = false;
        button.textContent = 'Add to Cart';
      }, 2000);

    } catch (error) {
      console.error(error);
      button.disabled = false;
      button.textContent = 'Error!';
    }
  });

});
</script>




<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
{% schema %}
{
  "name": "Home Single Product",
  "settings": [
    {
      "type": "collection",
      "id": "collection",
      "label": "Select Collection"
    }
  ],
  "presets": [
    {
      "name": "Home Single Product"
    }
  ]
}
{% endschema %}